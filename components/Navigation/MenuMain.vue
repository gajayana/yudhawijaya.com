<script setup lang="ts">
const { t } = useI18n({
  useScope: 'local'
})
const localePath = useLocalePath()
const emit = defineEmits(['menuClicked'])
const items = [
  {
    label: 'home',
    path: '/',
    name: 'index'
  },
  {
    label: 'works',
    path: '/karya',
    name: 'karya'
  },
  {
    label: 'journals',
    path: '/jurnal',
    name: 'jurnal'
  },
  {
    label: 'contact',
    path: '/kontak',
    name: 'kontak'
  }
]

</script>

<i18n lang="yaml">
en:
  contact: 'Contact'
  home: 'Home'
  journals: 'Journals'
  works: 'Works'
id:
  contact: 'Kontak'
  home: 'Muka'
  journals: 'Jurnal'
  works: 'Karya'
</i18n>

<template>
  <!-- start: small screen menu -->
  <div class="flex md:hidden flex-col gap-5 p-12">
    <NuxtLink
      v-for="({label, path}) in items"
      :key="`menu-small-screen-${label}`"
      :to="localePath({path})"
      class="flex font-serif leading-none text-sm text-white/50 no-underline"
      @click="emit('menuClicked')"
    >
      {{ t(label) }}
    </NuxtLink>
  </div>
  <!-- end: small screen menu -->

  <!-- start: large screen menu -->
  <div class="backdrop-blur-sm bg-[#f4f4f5]/50 hidden md:flex flex-row gap-1 items-center p-1 rounded-full drop-shadow-md">
    <NuxtLink
      v-for="({label, path}) in items"
      :key="`menu-large-screen-${label}`"
      :to="localePath({path})"
      class="hover:bg-white/50 flex font-serif leading-none px-4 py-2 rounded-full text-white md:text-black no-underline transition-all duration-300"
      @click="emit('menuClicked')"
    >
      {{ t(label) }}
    </NuxtLink>
  </div>
  <!-- end: large screen menu -->
</template>

<style lang="postcss" scoped>
.router-link-active {
  @apply text-white underline underline-offset-2;
  @apply md:bg-white md:font-medium md:no-underline md:shadow md:text-black;
}
</style>
